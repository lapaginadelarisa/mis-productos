<!DOCTYPE html>
<html lang="es" class="light dark">

<head>

 <meta charset="UTF-8">
 <title>Modificar producto - Market</title>

 <script src="js/registraServiceWorker.js"></script>

 <meta name="viewport" content="width=device-width">
 <meta name="theme-color" content="#fffbfe">
 <link rel="icon" sizes="32x32" href="favicon.ico">
 <link rel="manifest" href="site.webmanifest">
 <script src="ungap/custom-elements.js"></script>

 <script type="module" src="js/configura.js"></script>
 <link rel="stylesheet" href="css/estilos.css">
 <link rel="stylesheet" href="css/transicion_completa.css">
 <script type="module" src="lib/js/consumeJson.js"></script>
 <script type="module" src="lib/js/submitForm.js"></script>
 <script type="module" src="lib/js/muestraObjeto.js"></script>
 <script type="module" src="lib/js/muestraError.js"></script>

 <script>
  // Obtiene los par치metros de la p치gina.
  const params = new URL(location.href).searchParams
 </script>

</head>

<body onload="if (params.size > 0) {
   consumeJson('srv/producto.php?' + params)
    .then(respuesta => muestraObjeto(forma, respuesta.body))
    .catch(muestraError)
  }">

  <md-top-app-bar>
    <h1>Modificar producto</h1>
  </md-top-app-bar>
<nav-tab-fixed id="tab"></nav-tab-fixed>
  <main>


 <form id="forma" onsubmit="submitForm('srv/producto-modifica.php', event)
    .then(respuesta => location.href = 'index.html')
    .catch(muestraError)">


  <p>
    <a href="index.html"><button class="md-outline-button">
      Cancelar
     </button></a>
   </p>
 

  <input name="id" type="hidden">


  <p>
    <label class="md-filled-text-field">
     <input required placeholder="Nombre*" name="nombre" value="Cargando&hellip;">
     <span>Nombre *</span>
     <small>Obligatorio</small>
    </label>
   </p>


   <p>
    <label class="md-filled-text-field">
     <input required placeholder="Nombre*" name="precio" value="Cargando&hellip;">
     <span>Precio *</span>
     <small>Obligatorio</small>
    </label>
   </p>

   <p>
    <label class="md-filled-text-field">
     <input required placeholder="Nombre*" name="descripcion" value="Cargando&hellip;">
     <span>Descripci칩n *</span>
     <small>Obligatorio</small>
    </label>
   </p>



   <center>
    <p><button class="md-filled-button" type="submit">
    Guardar
   </button>
    <a href="index.html">
      <button type="button"  class="md-outline-button" onclick="
     if (params.size > 0 && confirm('Confirma la eliminaci칩n')) {
      consumeJson('srv/producto-elimina.php?' + params)
       .then(() => location.href = 'index.html')
       .catch(muestraError)
     }">
    Eliminar
   </button>
   </a>
   </p>
  
  </center>


 </form>

</body>

</html>